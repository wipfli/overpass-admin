{"version":3,"sources":["Map.js","Select.js","App.js","index.js"],"names":["Map","viewportWidth","viewportHeight","centerLongitude","centerLatitude","shareMap","useState","zoom","setZoom","map","setMap","mapContainerRef","useRef","useEffect","maplibregl","container","current","style","center","attributionControl","scale","ScaleControl","maxWidth","unit","addControl","dragRotate","disable","touchZoomRotate","disableRotation","on","getZoom","resize","ref","position","width","height","overflow","right","top","padding","Box","display","flexDirection","Tooltip","title","placement","IconButton","onClick","bottom","justifyContent","mx","color","Typography","fontSize","Link","href","Select","layer","setLayer","layers","setLayers","snack","setSnack","properties","setProperties","axios","get","then","res","sortedLayers","data","layerBodId","sort","catch","err","console","log","getQueryUrl","getBounds","toArray","longitude0","latitude0","longitude1","latitude1","left","m","p","Paper","FormControl","InputLabel","value","onChange","e","target","layerName","index","MenuItem","toString","my","Button","variant","results","length","getSource","setData","type","features","addSource","addLayer","window","open","Math","min","maxHeight","List","Object","keys","key","ListItem","ListItemText","primary","secondary","Snackbar","Boolean","autoHideDuration","onClose","message","anchorOrigin","vertical","horizontal","action","App","innerHeight","setViewportHeight","innerWidth","setViewportWidth","handleResize","document","getElementById","clientWidth","addEventListener","removeEventListener","ReactDOM","render"],"mappings":"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","file":"static/js/main.7569f139.chunk.js","sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\n\r\nimport maplibregl from 'maplibre-gl'\r\nimport 'maplibre-gl/dist/maplibre-gl.css'\r\n\r\nimport { IconButton, Typography } from '@material-ui/core'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport RemoveIcon from '@material-ui/icons/Remove'\r\nimport Box from '@material-ui/core/Box'\r\nimport Link from '@material-ui/core/Link'\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\n\r\nconst Map = ({\r\n    viewportWidth,\r\n    viewportHeight,\r\n    centerLongitude,\r\n    centerLatitude,\r\n    shareMap,\r\n}) => {\r\n\r\n    const [zoom, setZoom] = useState(8)\r\n    const [map, setMap] = useState(null)\r\n    const mapContainerRef = useRef(null)\r\n\r\n    const zoomIn = () => {\r\n        if (map) {\r\n            map.setZoom(zoom + 1)\r\n            setZoom(zoom + 1)\r\n        }\r\n    }\r\n\r\n    const zoomOut = () => {\r\n        if (map) {\r\n            map.setZoom(zoom - 1)\r\n            setZoom(zoom - 1)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const map = new maplibregl.Map({\r\n            container: mapContainerRef.current,\r\n            style: 'https://vectortiles.geo.admin.ch/styles/ch.swisstopo.leichte-basiskarte.vt/style.json',\r\n            center: [centerLongitude, centerLatitude],\r\n            zoom: zoom,\r\n            attributionControl: false\r\n        })\r\n\r\n        const scale = new maplibregl.ScaleControl({\r\n            maxWidth: 80,\r\n            unit: 'metric'\r\n        })\r\n        map.addControl(scale)\r\n\r\n        map.dragRotate.disable()\r\n        map.touchZoomRotate.disableRotation()\r\n\r\n        map.on('move', () => {\r\n            setZoom(map.getZoom())\r\n        })\r\n\r\n        map.on('load', () => {\r\n            map.resize()\r\n        })\r\n\r\n        setMap(map)\r\n        shareMap(map)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (map) {\r\n            map.resize()\r\n        }\r\n    }, [viewportWidth, viewportHeight])\r\n\r\n    return (\r\n        <div>\r\n            <div\r\n                ref={mapContainerRef}\r\n                style={{\r\n                    position: 'absolute',\r\n                    width: (viewportWidth - 1),\r\n                    height: (viewportHeight - 1),\r\n                    overflow: 'hidden'\r\n                }}\r\n            />\r\n\r\n            <div style={{\r\n                position: 'absolute',\r\n                right: 0,\r\n                top: 0,\r\n                padding: 10\r\n            }}>\r\n                <Box display=\"flex\" flexDirection=\"column\">\r\n                    <Tooltip title=\"Zoom In\" placement=\"left\">\r\n                        <IconButton onClick={zoomIn}>\r\n                            <AddIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                    <Tooltip title=\"Zoom Out\" placement=\"left\">\r\n                        <IconButton onClick={zoomOut}>\r\n                            <RemoveIcon />\r\n                        </IconButton>\r\n                    </Tooltip>\r\n                </Box>\r\n            </div>\r\n\r\n            <div style={{\r\n                position: 'absolute',\r\n                right: 0,\r\n                bottom: 0\r\n            }}>\r\n                <Box display=\"flex\" justifyContent=\"flex-end\" mx={1} color=\"text.secondary\">\r\n                    <Typography style={{ fontSize: 12 }}>\r\n                        <Link color=\"inherit\" href=\"https://www.geo.admin.ch/\">©swisstopo </Link>\r\n                    </Typography>\r\n                </Box>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Map","import React, { useState, useEffect } from 'react';\r\n\r\nimport axios from 'axios'\r\nimport buildUrl from 'build-url'\r\n\r\nimport Box from '@material-ui/core/Box'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport MaterialUISelect from '@material-ui/core/Select'\r\nimport Button from '@material-ui/core/Button'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\n\r\nconst prefix = 'http://tiqiblitz.ethz.ch:8000'\r\n\r\nconst Select = ({ map, viewportHeight, viewportWidth }) => {\r\n    const [layer, setLayer] = useState('loading...')\r\n    const [layers, setLayers] = useState(['loading...'])\r\n    const [snack, setSnack] = useState(null)\r\n\r\n    const [properties, setProperties] = useState(null)\r\n\r\n    const handleChange = e => {\r\n        setLayer(e.target.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get('https://api3.geo.admin.ch/rest/services/api/MapServer')\r\n            .then(res => {\r\n                const sortedLayers = res.data.layers.map(layer => {\r\n                    return layer.layerBodId\r\n                }).sort()\r\n                setLayers(sortedLayers)\r\n                setLayer(sortedLayers[0])\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    const getQueryUrl = () => {\r\n        if (!map) {\r\n            return ''\r\n        }\r\n        const [\r\n            [\r\n                longitude0,\r\n                latitude0\r\n            ],\r\n            [\r\n                longitude1,\r\n                latitude1\r\n            ]\r\n        ] = map.getBounds().toArray()\r\n        const url = `https://api3.geo.admin.ch/rest/services/api/MapServer/identify?geometryType=esriGeometryEnvelope&geometry=${longitude0},${latitude0},${longitude1},${latitude1}&imageDisplay=500,600,96&mapExtent=${longitude0},${latitude0},${longitude1},${latitude1}&tolerance=1&layers=all:${layer}&sr=4326&geometryFormat=geojson`\r\n        return url\r\n    }\r\n\r\n    const load = () => {\r\n        setSnack('loading...')\r\n        setProperties(null)\r\n        axios.get(getQueryUrl())\r\n            .then(res => {\r\n                if (res.data.results.length > 0) {\r\n                    setSnack(`Loaded ${res.data.results.length} features.`)\r\n                }\r\n                else {\r\n                    setSnack('Found no features.')\r\n                }\r\n\r\n                if (!map.getSource('my-overlay')) {\r\n                    map.addSource('my-overlay', {\r\n                        type: 'geojson',\r\n                        data: {\r\n                            type: 'FeatureCollection',\r\n                            features: res.data.results,\r\n                        },\r\n                    })\r\n                    map.addLayer({\r\n                        'filter': [\r\n                            '==',\r\n                            '$type',\r\n                            'Polygon'\r\n                        ],\r\n                        'id': 'my-overlay-fill',\r\n                        'source': 'my-overlay',\r\n                        'type': 'fill',\r\n                        'paint': {\r\n                            'fill-color': '#3498db',\r\n                            'fill-opacity': 0.5\r\n                        }\r\n                    })\r\n                    map.addLayer({\r\n                        'id': 'my-overlay-line',\r\n                        'source': 'my-overlay',\r\n                        'type': 'line',\r\n                        'paint': {\r\n                            'line-color': '#2980b9',\r\n                            'line-width': 2,\r\n                            'line-opacity': 0.5\r\n                        }\r\n                    })\r\n                    map.addLayer({\r\n                        'filter': [\r\n                            '==',\r\n                            '$type',\r\n                            'Point'\r\n                        ],\r\n                        'id': 'my-overlay-point',\r\n                        'source': 'my-overlay',\r\n                        'type': 'circle',\r\n                        'paint': {\r\n                            'circle-radius': 8,\r\n                            'circle-color': '#2980b9',\r\n                            'circle-opacity': 0.5,\r\n                        }\r\n                    })\r\n                    map.on('click', 'my-overlay-fill', e => {\r\n                        setProperties(e.features[0].properties)\r\n                    })\r\n                    map.on('click', 'my-overlay-line', e => {\r\n                        setProperties(e.features[0].properties)\r\n                    })\r\n                    map.on('click', 'my-overlay-point', e => {\r\n                        setProperties(e.features[0].properties)\r\n                    })\r\n                }\r\n                else {\r\n                    map.getSource('my-overlay').setData({\r\n                        type: 'FeatureCollection',\r\n                        features: res.data.results,\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                setSnack('Error loading features.')\r\n            })\r\n\r\n    }\r\n\r\n    return (\r\n        <div style={{\r\n            position: 'absolute',\r\n            left: 0,\r\n            top: 0\r\n        }}>\r\n            <Box m={1} p={1}>\r\n\r\n                <Paper>\r\n                    <Box m={1} p={1}>\r\n                        <FormControl>\r\n                            <InputLabel>Layer</InputLabel>\r\n                            <MaterialUISelect\r\n                                value={layer}\r\n                                onChange={handleChange}\r\n                            >\r\n                                {layers.map((layerName, index) => {\r\n                                    return <MenuItem value={layerName} key={index.toString()}>{layerName}</MenuItem>\r\n                                })}\r\n                            </MaterialUISelect>\r\n                        </FormControl>\r\n\r\n                    </Box>\r\n                </Paper>\r\n                <Box my={1} display=\"flex\" flexDirection=\"row\">\r\n                    <Box>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={load}>\r\n                            Show\r\n                        </Button>\r\n                    </Box>\r\n                    <Box mx={1}>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={() => {\r\n                            window.open(getQueryUrl())\r\n                        }}>\r\n                            GeoJSON\r\n                        </Button>\r\n                    </Box>\r\n                </Box>\r\n                {properties && <Paper>\r\n                    <Box m={1} p={1}>\r\n                        <IconButton onClick={() => setProperties(null)}>\r\n                            <CloseIcon />\r\n                        </IconButton>\r\n                        <Box style={{\r\n                            width: Math.min(viewportWidth * 0.75, 340),\r\n                            maxHeight: (viewportHeight * 0.5),\r\n                            overflow: 'auto',\r\n                        }}>\r\n                            <List>\r\n                                {Object.keys(properties).map((key, index) => {\r\n                                    return (\r\n                                        <ListItem key={index}>\r\n                                            <ListItemText\r\n                                                primary={properties[key]}\r\n                                                secondary={key}\r\n                                            />\r\n                                        </ListItem>\r\n                                    )\r\n                                })}\r\n                            </List>\r\n                        </Box>\r\n\r\n                    </Box>\r\n                </Paper>}\r\n            </Box>\r\n            <Snackbar\r\n                open={Boolean(snack)}\r\n                autoHideDuration={5000}\r\n                onClose={() => setSnack(null)}\r\n                message={snack}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n                action={\r\n                    <IconButton color=\"inherit\" onClick={() => setSnack(null)}>\r\n                        <CloseIcon />\r\n                    </IconButton>\r\n                }\r\n            />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Select","import React, { useState, useEffect } from 'react'\r\n\r\nimport Map from './Map'\r\nimport Select from './Select'\r\n\r\nconst App = () => {\r\n\r\n    const [viewportHeight, setViewportHeight] = useState(window.innerHeight)\r\n    const [viewportWidth, setViewportWidth] = useState(window.innerWidth)\r\n    const [map, setMap] = useState(null)\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setViewportHeight(window.innerHeight)\r\n            setViewportWidth(document.getElementById('root').clientWidth)\r\n        }\r\n        window.addEventListener('resize', handleResize)\r\n        handleResize()\r\n        return () => window.removeEventListener('resize', handleResize)\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Map\r\n                viewportWidth={viewportWidth}\r\n                viewportHeight={viewportHeight}\r\n                centerLongitude={8.55301}\r\n                centerLatitude={47.35257}\r\n                shareMap={setMap}\r\n            />\r\n            <Select \r\n                map={map} \r\n                viewportHeight={viewportHeight}\r\n                viewportWidth={viewportWidth}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport App from './App'\r\n\r\nReactDOM.render((\r\n  <App />\r\n), document.getElementById('root'))\r\n"],"sourceRoot":""}